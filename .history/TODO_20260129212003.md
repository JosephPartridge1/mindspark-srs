# TODO: Fix app.py for SRS System

## 1. Fix Duplicate /api/stats and Undefined Variable
- Remove the duplicate @app.route('/api/stats') at the end of the file
- Replace 'your_data' with actual data from db.get_stats()
- [x] COMPLETED: Removed duplicate and fixed undefined variable

## 2. Add Missing API Endpoints
- GET /api/learn: Return words due for learning today
- POST /api/review: Accept review data and update SRS
- GET /api/test: Simple health check endpoint
- [x] COMPLETED: Added all three endpoints

## 3. Integrate Thread-Safe Database Connection
- Use Flask g for database connections
- Ensure check_same_thread=False for SQLite
- [x] COMPLETED: Integrated Flask g with thread-safe connections

## 4. Add Seed Data Initialization
- Add function to seed minimal vocabulary data if database is empty
- Call init_db() on app startup

## 5. Ensure All API Routes Return JSON
- Verify all /api/* routes use jsonify()
- Add proper error handling with try-catch
- [x] COMPLETED: All routes now return JSON with error handling

## 6. Update Requirements and Provide Instructions
- Ensure requirements.txt has all dependencies
- Provide clear run instructions
- [x] COMPLETED: Requirements.txt is up to date
